# TTODO-API 개발 로드맵

## 📋 개요

TTODO-API 아키텍처 개선 프로젝트 완료 후 남은 개발 과제들을 체계적으로 정리한 로드맵입니다.
우선순위에 따라 단계별로 진행하여 안정적이고 확장 가능한 API 서비스를 완성합니다.

---

## ✅ 완료된 Phase (Phase 1-4)

### Phase 1-3: 아키텍처 기반 구축 ✅
- CQRS-lite 패턴 적용 (Command/Query 서비스 분리)
- 2-Layer 매퍼 시스템 구축 (Application/Presentation)
- 도메인별 검증 시스템 통합
- 모든 핵심 도메인 아키텍처 패턴 적용

### Phase 4: TTODO 아키텍처 완성 ✅
- **Phase 4.2**: Board-Hole 네이밍 → TTODO 패턴 전환 (147개 참조 수정)
- **Phase 4.3**: 종합 아키텍처 문서화 (가이드, 가이드라인, 체크리스트)

---

## 🚀 향후 개발 로드맵

### 🔥 Phase 5: 긴급 수정 사항 (우선순위: High)

**목표**: 현재 컴파일 에러 해결 및 기본 동작 안정화

#### Task 5.1: Response DTO 정리 (73개 컴파일 에러)
- **현재 상황**: Phase 1 DTO 재구성으로 인한 Response 클래스 누락
- **해결 범위**: 
  - Challenge 도메인 Response DTO 복구/재생성
  - Member 도메인 Response DTO 복구/재생성 
  - Experience 도메인 Response DTO 검증
- **예상 소요**: 2-3일
- **담당**: Backend 개발자

#### Task 5.2: MapStruct 매퍼 에러 해결
- **현재 상황**: Response DTO 누락으로 인한 매퍼 컴파일 실패
- **해결 범위**:
  - `ChallengePresentationMapper` 수정
  - `MemberPresentationMapper` 수정
  - `ExperienceApplicationMapper` 검증
- **예상 소요**: 1일
- **의존성**: Task 5.1 완료 후 진행

#### Task 5.3: 기본 컴파일 및 테스트 안정화
- **목표**: `./gradlew build` 성공
- **범위**: 
  - 모든 컴파일 에러 해결 확인
  - 기존 테스트 케이스 통과 확인
  - Swagger UI 정상 동작 확인
- **예상 소요**: 1일

---

### 🌐 Phase 6: API 표준화 (우선순위: High)

**목표**: RESTful 설계 원칙 적용 및 API 일관성 확보

#### Task 6.1: RESTful API 설계 표준 적용
- **현재 문제**: RPC 스타일 엔드포인트 존재 (`/join`, `/leave`, `/completed`)
- **개선 방향**:
  ```
  기존: POST /challenges/{id}/join
  개선: POST /challenges/{id}/participants
  
  기존: GET /todos/completed  
  개선: GET /todos?status=completed
  ```
- **범위**: 모든 도메인 API 엔드포인트 리뷰 및 수정
- **예상 소요**: 3-4일

#### Task 6.2: API 버전 관리 시스템 도입
- **목표**: `/api/v1/` 접두사 표준화
- **범위**: 
  - 모든 컨트롤러에 `/api/v1` 접두사 적용
  - Swagger UI 경로 업데이트
  - 기존 클라이언트 호환성 고려한 마이그레이션 계획
- **예상 소요**: 2일

#### Task 6.3: HTTP 상태 코드 표준화
- **현재 문제**: 일부 엔드포인트 상태 코드 불일치
- **표준화 목표**:
  - `201 Created`: 리소스 생성 성공
  - `200 OK`: 조회/수정 성공  
  - `204 No Content`: 삭제 성공
  - `400 Bad Request`: 검증 실패
  - `404 Not Found`: 리소스 없음
- **예상 소요**: 2일

#### Task 6.4: 필터링 시스템 통일
- **현재 문제**: 개별 엔드포인트 vs 쿼리 파라미터 혼재
- **통일 방향**: Query Parameter 기반 필터링
- **예상 소요**: 2-3일

---

### ⚡ Phase 7: 성능 최적화 (우선순위: Medium)

**목표**: 대용량 데이터 처리 및 응답 시간 최적화

#### Task 7.1: 쿼리 최적화
- **N+1 문제 해결**: 
  - 모든 도메인별 연관관계 쿼리 분석
  - `@EntityGraph`, `JOIN FETCH` 적용
  - 불필요한 Lazy Loading 최적화
- **동적 쿼리 성능 개선**:
  - JPA Criteria API 쿼리 최적화
  - 인덱스 활용 가능한 쿼리로 리팩토링
- **예상 소요**: 4-5일

#### Task 7.2: 캐싱 전략 도입
- **Redis 캐싱 전략**:
  - 자주 조회되는 정적 데이터 캐싱 (Level, Category)
  - 세션 기반 사용자별 캐싱
  - 캐시 무효화 전략 수립
- **Spring Cache 통합**:
  - `@Cacheable`, `@CacheEvict` 어노테이션 적용
  - 캐시 키 전략 설계
- **예상 소요**: 3-4일

#### Task 7.3: 비동기 처리 패턴 적용
- **이벤트 기반 처리**:
  - 경험치 업데이트 비동기화
  - 알림 발송 비동기화
  - 통계 데이터 계산 비동기화
- **@Async 및 TaskExecutor 설정**
- **예상 소요**: 3-4일

---

### 🧪 Phase 8: 테스트 전략 고도화 (우선순위: Medium)

**목표**: 높은 품질과 안정성을 위한 종합적 테스트 체계 구축

#### Task 8.1: 아키텍처 테스트 도입
- **ArchUnit 프레임워크 적용**:
  - 패키지 의존성 규칙 검증
  - 레이어별 접근 제한 검증  
  - 네이밍 규칙 자동 검증
  - TTODO 아키텍처 패턴 준수 자동 검증
- **예상 소요**: 2-3일

#### Task 8.2: 통합 테스트 표준화
- **BaseIntegrationTest 확장**:
  - 도메인별 테스트 데이터 빌더
  - 공통 테스트 유틸리티 메서드
  - 테스트 컨테이너 최적화
- **End-to-End 시나리오 테스트**:
  - 주요 비즈니스 플로우 커버
  - 실제 사용자 시나리오 기반
- **예상 소요**: 4-5일

#### Task 8.3: API 문서 자동화
- **Spring REST Docs 도입**:
  - 테스트 기반 API 문서 자동 생성
  - Swagger와 연계된 문서화 시스템
  - 요청/응답 예제 자동 생성
- **예상 소요**: 3-4일

---

### 🔒 Phase 9: 보안 강화 (우선순위: Medium)

**목표**: 운영 환경 보안 요구사항 만족

#### Task 9.1: JWT 보안 강화
- **토큰 보안 개선**:
  - 토큰 로테이션 정책 구현
  - 디바이스별 토큰 관리
  - 의심스러운 로그인 감지
- **예상 소요**: 3-4일

#### Task 9.2: API 보안 검증
- **입력 검증 강화**:
  - SQL Injection 취약점 점검
  - XSS 방지 검증 강화
  - 파일 업로드 보안 (향후 기능)
- **Rate Limiting 도입**:
  - API 호출 빈도 제한
  - IP별 접근 제한
- **예상 소요**: 2-3일

---

### 📊 Phase 10: 모니터링 및 운영 (우선순위: Low)

**목표**: 운영 환경에서 안정적인 서비스 제공

#### Task 10.1: APM 도구 통합
- **애플리케이션 성능 모니터링**:
  - Micrometer + Prometheus 연동
  - 비즈니스 메트릭스 수집
  - 알림 시스템 구축
- **예상 소요**: 3-4일

#### Task 10.2: 로깅 시스템 고도화
- **구조화된 로깅**:
  - JSON 포맷 로그 출력
  - 분산 추적 (Tracing ID)
  - 중요 비즈니스 이벤트 로깅
- **예상 소요**: 2-3일

---

### 🚀 Phase 11: 성능 및 확장성 (우선순위: Low)

**목표**: 대규모 트래픽 대응 준비

#### Task 11.1: 데이터베이스 최적화
- **DB 성능 튜닝**:
  - 쿼리 실행 계획 분석
  - 인덱스 최적화
  - 파티셔닝 전략 검토
- **예상 소요**: 4-5일

#### Task 11.2: 마이크로서비스 전환 준비
- **도메인 분리 검토**:
  - 독립적인 서비스 후보 식별
  - API Gateway 도입 검토
  - 이벤트 기반 아키텍처 전환 계획
- **예상 소요**: 설계 단계로 별도 프로젝트

---

## 📅 타임라인 및 마일스톤

### 2025 Q1 (1-3월): 안정화 단계
- **Week 1-2**: Phase 5 (긴급 수정) 완료
- **Week 3-6**: Phase 6 (API 표준화) 완료
- **Week 7-12**: Phase 7 (성능 최적화) 완료

### 2025 Q2 (4-6월): 품질 향상 단계
- **Week 13-18**: Phase 8 (테스트 고도화) 완료
- **Week 19-24**: Phase 9 (보안 강화) 완료

### 2025 Q3-Q4 (7-12월): 운영 최적화 단계
- **Week 25-30**: Phase 10 (모니터링) 완료
- **Week 31-40**: Phase 11 (확장성) 검토 및 설계
- **Week 41-52**: 차기 프로젝트 계획 및 준비

---

## 🎯 성공 지표

### Phase 5-6 완료 후 (안정화)
- [ ] 컴파일 에러 0개
- [ ] 모든 기존 테스트 통과
- [ ] API 응답 시간 평균 200ms 이하
- [ ] RESTful API 설계 원칙 100% 준수

### Phase 7-8 완료 후 (최적화)
- [ ] N+1 쿼리 문제 0개
- [ ] 테스트 커버리지 80% 이상
- [ ] API 응답 시간 평균 100ms 이하
- [ ] 캐시 적중률 70% 이상

### Phase 9-10 완료 후 (운영 준비)
- [ ] 보안 취약점 0개
- [ ] 99.9% 가용성 목표 달성
- [ ] 모든 중요 메트릭스 모니터링 완료
- [ ] 장애 대응 시간 5분 이내

---

## 📞 커뮤니케이션 및 의사결정

### 우선순위 조정 기준
1. **비즈니스 영향도**: 사용자 경험에 직접적 영향
2. **기술적 위험도**: 시스템 안정성 위험 요소
3. **개발 리소스**: 개발팀 역량 및 시간 제약
4. **의존성**: 다른 Phase와의 선후 관계

### Phase 시작 전 체크리스트
- [ ] 이전 Phase 완료 확인
- [ ] 필요 리소스 확보 확인
- [ ] 기술 스택 및 도구 준비 완료
- [ ] 테스트 환경 준비 완료
- [ ] 롤백 계획 수립 완료

---

**로드맵 버전**: 1.0  
**최종 업데이트**: 2025-01-09  
**다음 리뷰**: Phase 5 완료 후  
**담당**: TTODO 개발팀